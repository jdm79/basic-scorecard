<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
    <h2>JavaScript Object Constructors</h2>
    <button onClick="game.main()">Play!</button>
    <button onClick="game.reset()">Reset</button>
    <p id="demo">0</p>
    <p id="total">0</p>

  
  <script>
   // Constructor function for Game objects
   function Game() {
        this.frames = []
        this.total = 0
    }

    Game.prototype.main = function() {
      this.play()
      this.sum()
      this.showScore()
      this.gameOver()
    }
    
    Game.prototype.play = function() {
      this.score = Math.floor(Math.random() * 100)
      console.log(this.score);
      this.frames.push(this.score)
    }

    Game.prototype.gameOver = function() {
      if(this.frames.length >= 10) {
        alert(`game over! you scored ${this.total}`)
        this.reset()
      }
    }

    Game.prototype.refreshScores = function() {

    }

    Game.prototype.sum = function() {
      const reducer = (accumulator, currentValue) => accumulator + currentValue;
      this.total = this.frames.reduce(reducer)
      document.getElementById("total").innerHTML = this.total
    }
    
    Game.prototype.showScore = function() {
      document.getElementById("demo").innerHTML = this.frames
    }

    Game.prototype.reset = function() {
      this.frames = []
      this.total = 0
      document.getElementById("total").innerHTML = this.total
      document.getElementById("demo").innerHTML = this.frames
    }
    
    // Create a game object
    var game = new Game()
        
    
   
  </script>
   
    
</body>
</html>